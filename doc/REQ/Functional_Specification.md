|   DB   |   모듈   |     기능명     |             API Endpoint            | Method |                                                                 요청파라미터(JSON)                                                                 |                                                                                      응답(JSON)                                                                                      |               DB테이블              |                                  처리로직                                 |
|:------:|:--------:|:--------------:|:-----------------------------------:|:------:|:--------------------------------------------------------------------------------------------------------------------------------------------------:|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:-----------------------------------:|:-------------------------------------------------------------------------:|
| FN-001 |  시스템  | 로그인         | /api/auth/login                     |  POST  | {"user_id":"string","password":"string"}                                                                                                           | {"token":"jwt_string","user":{"id","name","role"}}                                                                                                                                   | users                               | 1.ID/PW검증 2.JWT생성(24h) 3.로그인이력저장                               |
| FN-002 |  시스템  | 회원가입       | /api/auth/register                  |  POST  | {"user_id":"string","password":"string","name":"string","email":"string","role":"worker\|admin"}                                                   | {"success":true,"user_id":"string"}                                                                                                                                                  | users                               | 1.ID중복체크 2.PW암호화(bcrypt) 3.DB저장                                  |
| FN-003 |  시스템  | 권한조회       | /api/auth/permissions/{user_id}     |   GET  | path: user_id                                                                                                                                      | {"permissions":[{"menu":"string","read":bool,"write":bool}]}                                                                                                                         | user_permissions                    | 1.사용자권한조회 2.메뉴별권한반환                                         |
| FN-004 | 기준정보 | 품목등록       | /api/items                          |  POST  | {"name":"string","category":"RAW\|SEMI\|PRODUCT","unit":"EA\|KG\|M","spec":"string","safety_stock":number}                                         | {"item_code":"ITM-00001","created_at":"datetime"}                                                                                                                                    | items                               | 1.코드자동생성(ITM-00001) 2.중복체크 3.DB저장                             |
| FN-005 | 기준정보 | 품목목록       | /api/items                          |   GET  | query: keyword, category, page, size                                                                                                               | {"items":[{item_code,name,spec,unit,stock}],"total":number,"page":number}                                                                                                            | items, inventory                    | 1.검색조건적용 2.페이징처리 3.현재고조인                                  |
| FN-006 | 기준정보 | 품목상세       | /api/items/{item_code}              |   GET  | path: item_code                                                                                                                                    | {"item_code","name","category","unit","spec","safety_stock","created_at"}                                                                                                            | items                               | 1.품목조회 2.상세정보반환                                                 |
| FN-007 | 기준정보 | 품목수정       | /api/items/{item_code}              |   PUT  | {"name":"string","spec":"string","safety_stock":number}                                                                                            | {"success":true,"updated_at":"datetime"}                                                                                                                                             | items                               | 1.존재여부확인 2.필드업데이트 3.수정이력저장                              |
| FN-008 | 기준정보 | BOM등록        | /api/bom                            |  POST  | {"parent_item":"string","child_item":"string","qty_per_unit":number,"loss_rate":number}                                                            | {"bom_id":number,"success":true}                                                                                                                                                     | bom                                 | 1.순환참조체크 2.BOM저장 3.레벨자동계산                                   |
| FN-009 | 기준정보 | BOM전개        | /api/bom/explode/{item_code}        |   GET  | path: item_code, query: qty                                                                                                                        | {"tree":[{"level":1,"item":"string","qty":number,"children":[...]}]}                                                                                                                 | bom, items                          | 1.재귀BOM조회 2.소요량계산(qty*loss) 3.트리구조반환                       |
| FN-010 | 기준정보 | 공정등록       | /api/processes                      |  POST  | {"name":"string","std_time_min":number,"description":"string","equip_code":"string"}                                                               | {"process_code":"PRC-001","success":true}                                                                                                                                            | processes                           | 1.코드자동생성 2.DB저장                                                   |
| FN-011 | 기준정보 | 라우팅등록     | /api/routings                       |  POST  | {"item_code":"string","routes":[{"seq":1,"process_code":"string","cycle_time":number}]}                                                            | {"routing_id":number,"success":true}                                                                                                                                                 | routings                            | 1.품목별공정순서저장 2.총리드타임계산                                     |
| FN-012 | 기준정보 | 라우팅조회     | /api/routings/{item_code}           |   GET  | path: item_code                                                                                                                                    | {"item_code":"string","routes":[{"seq","process_name","cycle_time","equip_name"}],"total_time":number}                                                                               | routings, processes                 | 1.라우팅조회 2.공정정보조인 3.총시간계산                                  |
| FN-013 | 기준정보 | 설비등록       | /api/equipments                     |  POST  | {"name":"string","process_code":"string","capacity_per_hour":number,"install_date":"date"}                                                         | {"equip_code":"EQP-001","success":true}                                                                                                                                              | equipments                          | 1.코드자동생성 2.DB저장                                                   |
| FN-014 | 기준정보 | 설비목록       | /api/equipments                     |   GET  | query: process_code, status                                                                                                                        | {"equipments":[{equip_code,name,status,uptime_rate}]}                                                                                                                                | equipments, equip_status            | 1.설비조회 2.가동률계산(가동시간/총시간)                                  |
| FN-015 | 생산계획 | 계획등록       | /api/plans                          |  POST  | {"item_code":"string","plan_qty":number,"due_date":"date","priority":"HIGH\|MID\|LOW"}                                                             | {"plan_id":number,"success":true}                                                                                                                                                    | production_plans                    | 1.납기체크 2.계획저장 3.상태=대기                                         |
| FN-016 | 생산계획 | 계획목록       | /api/plans                          |   GET  | query: start_date, end_date, status, page                                                                                                          | {"plans":[{plan_id,item_name,qty,due_date,status,progress}],"total":number}                                                                                                          | production_plans, items             | 1.기간필터 2.진척률계산(완료수량/계획수량)                                |
| FN-017 | 생산계획 | 계획상세       | /api/plans/{plan_id}                |   GET  | path: plan_id                                                                                                                                      | {"plan_id","item","qty","due_date","status","work_orders":[...],"progress_pct":number}                                                                                               | production_plans, work_orders       | 1.계획조회 2.연결된작업지시조회                                           |
| FN-018 | 생산계획 | AI수요예측     | /api/ai/demand-forecast             |  POST  | {"item_code":"string","history_months":12,"forecast_months":3}                                                                                     | {"forecasts":[{"month":"2024-01","qty":1000,"lower":900,"upper":1100}],"accuracy":0.85,"model":"Prophet"}                                                                            | shipments, ai_forecasts             | 1.출하이력조회 2.Prophet모델학습 3.예측및신뢰구간계산 4.결과저장          |
| FN-019 | 생산계획 | AI일정최적화   | /api/ai/schedule-optimize           |  POST  | {"plan_ids":[1,2,3],"consider_due_date":true,"consider_setup_time":true}                                                                           | {"schedule":[{"plan_id":1,"equip":"EQP-001","start":"datetime","end":"datetime","seq":1}],"makespan":480,"utilization":0.85}                                                         | production_plans, equipments        | 1.계획/설비데이터로드 2.OR-Tools CP-SAT 3.최적스케줄도출 4.간트데이터반환 |
| FN-020 | 생산실행 | 작업지시생성   | /api/work-orders                    |  POST  | {"plan_id":number,"work_date":"date","line_id":"string","equip_code":"string"}                                                                     | {"work_order_id":"WO-20240101-001","success":true}                                                                                                                                   | work_orders                         | 1.계획분할 2.지시번호생성(WO-날짜-순번) 3.저장                            |
| FN-021 | 생산실행 | 작업지시목록   | /api/work-orders                    |   GET  | query: work_date, line_id, status                                                                                                                  | {"orders":[{wo_id,item_name,plan_qty,status,worker}]}                                                                                                                                | work_orders, items                  | 1.조건조회 2.상태별분류                                                   |
| FN-022 | 생산실행 | 작업지시상세   | /api/work-orders/{wo_id}            |   GET  | path: wo_id                                                                                                                                        | {"wo_id","item","qty","routing":[...],"status","results":[...]}                                                                                                                      | work_orders, routings, work_results | 1.지시조회 2.공정정보 3.실적정보                                          |
| FN-023 | 생산실행 | 실적등록       | /api/work-results                   |  POST  | {"wo_id":"string","good_qty":number,"defect_qty":number,"defect_code":"string","worker_id":"string","start_time":"datetime","end_time":"datetime"} | {"result_id":number,"progress_pct":number,"success":true}                                                                                                                            | work_results, work_orders           | 1.실적저장 2.작업지시진척률업데이트 3.불량수량>0이면불량이력저장          |
| FN-024 | 생산실행 | 대시보드데이터 | /api/dashboard/production           |   GET  | query: date                                                                                                                                        | {"lines":[{"line_id","target":1000,"actual":850,"rate":0.85,"status":"running"}],"hourly":[{"hour":9,"qty":100}]}                                                                    | work_orders, work_results           | 1.당일실적집계 2.라인별달성률 3.시간대별생산량                            |
| FN-025 |   품질   | 검사기준등록   | /api/quality/standards              |  POST  | {"item_code":"string","checks":[{"name":"외관","type":"VISUAL"},{"name":"치수","std":10.0,"min":9.8,"max":10.2,"unit":"mm"}]}                      | {"standard_id":number,"success":true}                                                                                                                                                | quality_standards                   | 1.품목별검사항목저장 2.수치형/비수치형구분                                |
| FN-026 |   품질   | 검사등록       | /api/quality/inspections            |  POST  | {"type":"INCOMING\|PROCESS\|OUTGOING","item_code":"string","lot_no":"string","results":[{"check_name":"치수","value":10.1}]}                       | {"inspection_id":number,"judgment":"PASS\|FAIL","fail_items":["string"]}                                                                                                             | inspections                         | 1.측정값vs기준비교 2.자동합부판정 3.결과저장                              |
| FN-027 |   품질   | 불량현황       | /api/quality/defects                |   GET  | query: start_date, end_date, item_code                                                                                                             | {"summary":[{"defect_type":"외관불량","count":50,"rate":0.02}],"trend":[{"date":"2024-01-01","rate":0.015}]}                                                                         | work_results, defect_codes          | 1.불량집계 2.유형별파레토 3.추이데이터                                    |
| FN-028 |   품질   | AI불량예측     | /api/ai/defect-predict              |  POST  | {"process_code":"string","params":{"temp":180,"pressure":50,"speed":100,"humidity":45}}                                                            | {"defect_prob":0.15,"risk_level":"MEDIUM","factors":[{"name":"temp","contribution":0.4}],"recommendation":"온도 5도 낮출 것 권장"}                                                   | process_params, ai_models           | 1.실시간파라미터수신 2.XGBoost모델예측 3.SHAP으로원인분석 4.권장조치생성  |
| FN-029 |   재고   | 입고등록       | /api/inventory/in                   |  POST  | {"item_code":"string","qty":number,"supplier":"string","warehouse":"WH01","location":"A-01-01"}                                                    | {"lot_no":"LOT-20240101-001","slip_no":"IN-20240101-001"}                                                                                                                            | inventory_transactions, inventory   | 1.로트자동생성 2.입고전표생성 3.재고증가                                  |
| FN-030 |   재고   | 출고등록       | /api/inventory/out                  |  POST  | {"item_code":"string","qty":number,"out_type":"PRODUCTION\|SHIP","ref_id":"string"}                                                                | {"slip_no":"OUT-20240101-001","lots_used":[{"lot_no","qty"}]}                                                                                                                        | inventory_transactions, inventory   | 1.FIFO로트선택 2.출고전표생성 3.재고차감                                  |
| FN-031 |   재고   | 재고현황       | /api/inventory                      |   GET  | query: warehouse, category                                                                                                                         | {"items":[{"item_code","name","stock":100,"available":80,"safety":50,"status":"NORMAL\|LOW\|OUT"}]}                                                                                  | inventory, items                    | 1.품목별집계 2.가용재고=재고-예약 3.안전재고비교                          |
| FN-032 |   설비   | 상태변경       | /api/equipments/{equip_code}/status |   PUT  | {"status":"RUNNING\|STOP\|DOWN","reason":"string","worker_id":"string"}                                                                            | {"success":true,"changed_at":"datetime"}                                                                                                                                             | equip_status_log                    | 1.상태변경저장 2.다운타임계산                                             |
| FN-033 |   설비   | 가동현황       | /api/equipments/status              |   GET  | query: (none - realtime)                                                                                                                           | {"equipments":[{"equip_code","name","status","uptime_today":0.85,"current_job":"WO-xxx"}]}                                                                                           | equipments, equip_status_log        | 1.전체설비조회 2.당일가동률계산                                           |
| FN-034 |   설비   | AI고장예측     | /api/ai/failure-predict             |  POST  | {"equip_code":"string","sensor":{"vibration":2.5,"temperature":65,"current":15.2}}                                                                 | {"failure_prob":0.25,"remaining_life_hours":120,"anomaly_score":0.7,"recommendation":"48시간 내 점검 권장"}                                                                          | equip_sensors, ai_models            | 1.센서데이터수신 2.IsolationForest이상탐지 3.LSTM잔여수명예측 4.알림생성  |
| FN-035 |   통계   | 생산실적분석   | /api/reports/production             |   GET  | query: start_date, end_date, group_by(day\|week\|month)                                                                                            | {"summary":{"total_qty":10000,"achieve_rate":0.92},"trend":[{"period":"2024-01","qty":3000}],"by_item":[{"item","qty","rate"}]}                                                      | work_results, production_plans      | 1.기간별집계 2.품목별집계 3.달성률계산                                    |
| FN-036 |   통계   | 품질리포트     | /api/reports/quality                |   GET  | query: start_date, end_date, item_code                                                                                                             | {"defect_rate":0.02,"trend":[...],"cpk":1.33,"control_chart":{"ucl":10.2,"lcl":9.8,"values":[...]}}                                                                                  | inspections, work_results           | 1.불량률계산 2.Cpk=(USL-LSL)/6σ 3.관리도데이터                            |
| FN-037 |   통계   | AI인사이트     | /api/ai/insights                    |  POST  | {"period":"2024-01","focus_area":"production\|quality\|equipment"}                                                                                 | {"summary":"1월 생산성 5% 하락...","issues":[{"area":"설비","desc":"EQP-003 고장빈도 증가"}],"recommendations":[{"action":"예방정비 주기 단축","expected_impact":"가동률 3% 향상"}]} | all tables                          | 1.기간데이터수집 2.GPT API호출(프롬프트엔지니어링) 3.구조화된인사이트반환 |
